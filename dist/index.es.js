import e,{useState as r,useEffect as t,useRef as n}from"react";import o from"prop-types";function i(){return(i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const a=({children:n,ElementType:o,duration:a,delay:c,opacity:l,...s})=>{const[u,d]=r(!1);return t((()=>{setTimeout((()=>d(!0)),c)})),e.createElement(o,i({style:{opacity:u?l:0,transition:`opacity ${a} ease`}},s),n)};a.propTypes={children:o.any.isRequired,ElementType:o.string,duration:o.string,delay:o.number,opacity:o.number},a.defaultProps={ElementType:"div",duration:"0.7s",delay:1,opacity:1};const c={opacity:0,transition:"opacity 0.7s ease"},l={cursor:"pointer"},s=e=>({opacity:e}),u=e=>({border:e}),d=e=>({borderRadius:e}),h=({src:t,alt:n,opacity:o,border:a,borderRadius:h,onLoadCallback:p,onErrorCallback:y,onClickCallback:b,...f})=>{const[g,m]=r(!1);return e.createElement("img",i({src:t,alt:n,style:{...c,...u(a),...d(h),...b?l:{},...g?s(o):{}},onLoad:()=>{m(!0),p()},onError:y,onClick:b},f))};h.propTypes={src:o.string.isRequired,alt:o.string.isRequired,opacity:o.number,border:o.string,borderRadius:o.oneOfType(o.string,o.number),onLoadCallback:o.func,onErrorCallback:o.func,onClickCallback:o.func},h.defaultProps={opacity:1,border:"none",borderRadius:0,onLoadCallback:()=>{},onErrorCallback:()=>{},onClickCallback:null};const p=(e,r)=>Math.round(Math.random()*(r-e)+e);function y(e,n){const[o,i]=r(),a=()=>{const r=e.current.offsetWidth,t=e.current.offsetHeight;n.current.width=r,n.current.height=t,i({width:r,height:t})};return t((()=>(window.onresize=a,a(),()=>{window.onresize=null})),[]),o}function b(e,r,n,o){const i=y(e,r);return t((()=>{let e,t,a,c,l;return i&&(e=r.current.getContext("2d"),e.fillStyle=o,[...Array(n)].forEach((()=>{const e=Math.PI/180*p(0,360),r=p(1,3),n=(o=p(0,i.width),c=p(0,i.height),l=Math.cos(e)*r,s=Math.sin(e)*r,{x:o,y:c,sx:o,sy:c,mx:l,my:s,alpha:.1*r,next:null});var o,c,l,s;t||(t=n),a||(a=n),a.next=n,a=n})),l=20,c=setInterval((()=>{let r=t;for(e.clearRect(-20,-20,i.width+l,i.height+l);r;)r.x<-20||r.x>i.width+l||r.y<-20||r.y>i.height+l?(r.x=r.sx,r.y=r.sy):(r.x+=r.mx,r.y+=r.my),e.globalAlpha=r.alpha,e.fillRect(r.x,r.y,2,2),r=r.next}),35)),()=>{clearInterval(c)}}),[i,n,o]),null}const f={position:"absolute",pointerEvents:"none"},g=({children:r,count:t,color:o,width:a,height:c,borderRadius:l,contentStyle:s,...u})=>{const d=n(),h=n();return b(d,h,t,o),e.createElement("div",i({ref:d},u),e.createElement("canvas",{ref:h,style:{borderRadius:l,...f}}),e.createElement("div",{style:{...a&&c?{width:a,height:c}:{},borderRadius:l,...s}},r))};g.propTypes={children:o.any,count:o.number.isRequired,width:o.oneOfType([o.string,o.number]),height:o.oneOfType([o.string,o.number]),color:o.string,borderRadius:o.string,contentStyle:o.object},g.defaultProps={children:null,color:"#000000",width:null,height:null,borderRadius:null,contentStyle:{}};const m={threshold:0,rootMargin:"0px 0px 0px 0px"};function x(e,r,n,o=m){n&&r&&t((()=>{const t=[];if(e.current&&"function"==typeof IntersectionObserver){const i=e=>r=>{n(r[0],e)};return e.current.querySelectorAll(r).forEach(((e,r)=>{const n=new IntersectionObserver(i(r),o);n.observe(e),t.push(n)})),()=>{t.forEach((e=>{e.disconnect()}))}}return()=>{}}),[e.current,o.threshold,o.rootMargin])}export{a as FadeIn,h as LazyImage,g as PixelEffectContainer,p as rand,x as useIntersection,b as usePixelEffect,y as useResizeCanvasToContainer};
