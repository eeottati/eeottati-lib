import e,{useState as t,useEffect as n,useRef as r}from"react";import o from"prop-types";import i from"classnames";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var c="ExpandCollapse-module_container__sEsY7";l(".ExpandCollapse-module_container__sEsY7 button{cursor:pointer;border:none;background:none;text-decoration:none;font-size:inherit;font-family:inherit}");const s=({children:n,ElementType:r,open:o,trigger:i,...l})=>{const[s,d]=t(o);return e.createElement(r,a({className:c},l),i&&e.createElement("button",{onClick:()=>d(!s),"aria-expanded":s},i),s&&n)};s.propTypes={children:o.any,ElementType:o.string,open:o.bool,trigger:o.any},s.defaultProps={children:null,ElementType:"div",open:!0,trigger:null};const d=({children:r,ElementType:o,duration:i,delay:l,opacity:c,...s})=>{const[d,u]=t(!1);return n((()=>{setTimeout((()=>u(!0)),l)})),e.createElement(o,a({style:{opacity:d?c:0,transition:`opacity ${i} ease`}},s),r)};d.propTypes={children:o.any.isRequired,ElementType:o.string,duration:o.string,delay:o.number,opacity:o.number},d.defaultProps={ElementType:"div",duration:"0.7s",delay:1,opacity:1};const u={cursor:"pointer"},p=e=>({opacity:0,transition:`opacity ${e} ease`}),h=e=>({opacity:e}),y=e=>({border:e}),m=e=>({borderRadius:e}),f=({src:n,alt:r,duration:o,opacity:i,border:l,borderRadius:c,onLoadCallback:s,onErrorCallback:d,onClickCallback:f,...b})=>{const[g,x]=t(!1);return e.createElement("img",a({src:n,alt:r,style:{...p(o),...y(l),...m(c),...f?u:{},...g?h(i):{}},onLoad:()=>{x(!0),s()},onError:d,onClick:f},b))};f.propTypes={src:o.string.isRequired,alt:o.string.isRequired,duration:o.string,opacity:o.number,border:o.string,borderRadius:o.oneOfType(o.string,o.number),onLoadCallback:o.func,onErrorCallback:o.func,onClickCallback:o.func},f.defaultProps={duration:"0.7s",opacity:1,border:"none",borderRadius:0,onLoadCallback:()=>{},onErrorCallback:()=>{},onClickCallback:null};const b=(e,t)=>Math.round(Math.random()*(t-e)+e);function g(e,r){const[o,i]=t(),a=()=>{const t=e.current.offsetWidth,n=e.current.offsetHeight;r.current.width=t,r.current.height=n,i({width:t,height:n})};return n((()=>(window.onresize=a,a(),()=>{window.onresize=null})),[]),o}function x(e,t,r,o){const i=g(e,t);return n((()=>{let e,n,a,l,c;return i&&(e=t.current.getContext("2d"),e.fillStyle=o,[...Array(r)].forEach((()=>{const e=Math.PI/180*b(0,360),t=b(1,3),r=(o=b(0,i.width),l=b(0,i.height),c=Math.cos(e)*t,s=Math.sin(e)*t,{x:o,y:l,sx:o,sy:l,mx:c,my:s,alpha:.1*t,next:null});var o,l,c,s;n||(n=r),a||(a=r),a.next=r,a=r})),c=20,l=setInterval((()=>{let t=n;for(e.clearRect(-20,-20,i.width+c,i.height+c);t;)t.x<-20||t.x>i.width+c||t.y<-20||t.y>i.height+c?(t.x=t.sx,t.y=t.sy):(t.x+=t.mx,t.y+=t.my),e.globalAlpha=t.alpha,e.fillRect(t.x,t.y,2,2),t=t.next}),35)),()=>{clearInterval(l)}}),[i,r,o]),null}var E="PixelEffectContainer-module_container__1yi_A";l(".PixelEffectContainer-module_container__1yi_A canvas{position:absolute;pointer-events:none}");const C=({children:t,className:n,count:o,color:l,width:c,height:s,borderRadius:d,contentStyle:u,...p})=>{const h=r(),y=r();return x(h,y,o,l),e.createElement("div",a({ref:h,className:i(E,n)},p),e.createElement("canvas",{ref:y,style:{borderRadius:d}}),e.createElement("div",{style:{...c&&s?{width:c,height:s}:{},borderRadius:d,...u}},t))};C.propTypes={children:o.any,className:o.string,count:o.number.isRequired,width:o.oneOfType([o.string,o.number]),height:o.oneOfType([o.string,o.number]),color:o.string,borderRadius:o.string,contentStyle:o.object},C.defaultProps={children:null,className:"",color:"#000000",width:null,height:null,borderRadius:null,contentStyle:{}};const v={threshold:0,rootMargin:"0px 0px 0px 0px"};function T(e,t,r,o=v){r&&t&&n((()=>{const n=[];if(e.current&&"function"==typeof IntersectionObserver){const i=e=>t=>{r(t[0],e)};return e.current.querySelectorAll(t).forEach(((e,t)=>{const r=new IntersectionObserver(i(t),o);r.observe(e),n.push(r)})),()=>{n.forEach((e=>{e.disconnect()}))}}return()=>{}}),[e.current,o.threshold,o.rootMargin])}export{s as ExpandCollapse,d as FadeIn,f as LazyImage,C as PixelEffectContainer,b as rand,T as useIntersection,x as usePixelEffect,g as useResizeCanvasToContainer};
