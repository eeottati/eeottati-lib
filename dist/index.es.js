import e,{useState as t,useEffect as r,useRef as n}from"react";import o from"prop-types";import i from"classnames";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const c=({children:n,ElementType:o,duration:i,delay:c,opacity:l,...s})=>{const[d,u]=t(!1);return r((()=>{setTimeout((()=>u(!0)),c)})),e.createElement(o,a({style:{opacity:d?l:0,transition:`opacity ${i} ease`}},s),n)};c.propTypes={children:o.any.isRequired,ElementType:o.string,duration:o.string,delay:o.number,opacity:o.number},c.defaultProps={ElementType:"div",duration:"0.7s",delay:1,opacity:1};const l={cursor:"pointer"},s=e=>({opacity:0,transition:`opacity ${e} ease`}),d=e=>({opacity:e}),u=e=>({border:e}),h=e=>({borderRadius:e}),p=({src:r,alt:n,duration:o,opacity:i,border:c,borderRadius:p,onLoadCallback:y,onErrorCallback:f,onClickCallback:m,...b})=>{const[g,x]=t(!1);return e.createElement("img",a({src:r,alt:n,style:{...s(o),...u(c),...h(p),...m?l:{},...g?d(i):{}},onLoad:()=>{x(!0),y()},onError:f,onClick:m},b))};p.propTypes={src:o.string.isRequired,alt:o.string.isRequired,duration:o.string,opacity:o.number,border:o.string,borderRadius:o.oneOfType(o.string,o.number),onLoadCallback:o.func,onErrorCallback:o.func,onClickCallback:o.func},p.defaultProps={duration:"0.7s",opacity:1,border:"none",borderRadius:0,onLoadCallback:()=>{},onErrorCallback:()=>{},onClickCallback:null};const y=(e,t)=>Math.round(Math.random()*(t-e)+e);function f(e,n){const[o,i]=t(),a=()=>{const t=e.current.offsetWidth,r=e.current.offsetHeight;n.current.width=t,n.current.height=r,i({width:t,height:r})};return r((()=>(window.onresize=a,a(),()=>{window.onresize=null})),[]),o}function m(e,t,n,o){const i=f(e,t);return r((()=>{let e,r,a,c,l;return i&&(e=t.current.getContext("2d"),e.fillStyle=o,[...Array(n)].forEach((()=>{const e=Math.PI/180*y(0,360),t=y(1,3),n=(o=y(0,i.width),c=y(0,i.height),l=Math.cos(e)*t,s=Math.sin(e)*t,{x:o,y:c,sx:o,sy:c,mx:l,my:s,alpha:.1*t,next:null});var o,c,l,s;r||(r=n),a||(a=n),a.next=n,a=n})),l=20,c=setInterval((()=>{let t=r;for(e.clearRect(-20,-20,i.width+l,i.height+l);t;)t.x<-20||t.x>i.width+l||t.y<-20||t.y>i.height+l?(t.x=t.sx,t.y=t.sy):(t.x+=t.mx,t.y+=t.my),e.globalAlpha=t.alpha,e.fillRect(t.x,t.y,2,2),t=t.next}),35)),()=>{clearInterval(c)}}),[i,n,o]),null}var b="PixelEffectContainer-module_container__1yi_A";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".PixelEffectContainer-module_container__1yi_A canvas{position:absolute;pointer-events:none}");const g=({children:t,className:r,count:o,color:c,width:l,height:s,borderRadius:d,contentStyle:u,...h})=>{const p=n(),y=n();return m(p,y,o,c),e.createElement("div",a({ref:p,className:i(b,r)},h),e.createElement("canvas",{ref:y,style:{borderRadius:d}}),e.createElement("div",{style:{...l&&s?{width:l,height:s}:{},borderRadius:d,...u}},t))};g.propTypes={children:o.any,className:o.string,count:o.number.isRequired,width:o.oneOfType([o.string,o.number]),height:o.oneOfType([o.string,o.number]),color:o.string,borderRadius:o.string,contentStyle:o.object},g.defaultProps={children:null,className:"",color:"#000000",width:null,height:null,borderRadius:null,contentStyle:{}};const x={threshold:0,rootMargin:"0px 0px 0px 0px"};function C(e,t,n,o=x){n&&t&&r((()=>{const r=[];if(e.current&&"function"==typeof IntersectionObserver){const i=e=>t=>{n(t[0],e)};return e.current.querySelectorAll(t).forEach(((e,t)=>{const n=new IntersectionObserver(i(t),o);n.observe(e),r.push(n)})),()=>{r.forEach((e=>{e.disconnect()}))}}return()=>{}}),[e.current,o.threshold,o.rootMargin])}export{c as FadeIn,p as LazyImage,g as PixelEffectContainer,y as rand,C as useIntersection,m as usePixelEffect,f as useResizeCanvasToContainer};
